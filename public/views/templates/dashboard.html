<div layout="row" layout-align="center center" >
  <md-card flex="70">
    <md-card-content  ng-hide="dash.loading">
      <div layout="row" layout-sm="column" layout-align="space-around">
        <md-progress-circular md-mode="indeterminate"></md-progress-circular>
      </div>
    </md-card-content>

    <md-card-content ng-show="dash.loading">
      <div layout="row">
        <div layout="column" flex="33" layout-align="space-around center">
          <md-button id="newJob" class="md-raised md-primary md-ink-ripple" ng-click="dash.newJob()">
            New Job
          </md-button>
        </div>
        <div layout="column" flex="33" layout-align="space-around start">
          <md-checkbox ng-model="dash.show.completed" ng-change="dash.statusFilter(dash.show)">
            Show Completed Jobs
          </md-checkbox>
          <md-checkbox ng-model="dash.show.declined" ng-change="dash.statusFilter(dash.show)">
            Show Declined Jobs
          </md-checkbox>
        </div>
        <div layout="column" flex="33" layout-align="space-around start">
          <span>Results: {{(dash.filtered  | filter: query).length}} </span>
          <md-input-container>
            <label>Search</label>
            <input ng-model="query" aria-invalid="false" />
            <div class="md-errors-spacer"></div>
          </md-input-container>
        </div>
      </div>

      <div layout="row" layout-align="center center" layout-wrap>
        <table id="dashTable">
          <thead>
            <tr id="headerRow">
              <th>Survey #</th>
              <th>Job #</th>
              <th>Client</th>
              <th>Status</th>
              <th>Last Modified</th>
              <th>Survey Date</th>
              <th></th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr class="tableBodyRow" data-ng-repeat="result in dash.filtered  | filter: query |  startFrom:dash.currentPage*dash.pageSize | limitTo:dash.pageSize" >
              <td>{{result.id}}</
              <td>{{result.job_number}}</td>
              <td>{{result.client_name}}</td>
              <td>{{result.status}}</td>
              <td>{{result.last_modified}}</td>
              <td>{{result.survey_date}}</td>
              <td><div class="md-icon-button md-ink-ripple itemBtn removeIconPadding" aria-label="view">
                <md-icon ng-click="dash.survey(result.id)" md-svg-icon="./img/pdf.svg"></md-icon>
              </div></td>
              <td><div class="md-icon-button md-ink-ripple itemBtn removeIconPadding" aria-label="edit">
                <md-icon ng-click="dash.area(result.id)" md-svg-icon="./img/edit.svg"></md-icon>
              </div></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div layout="row" layout-align="center center" layout-wrap="">
        <md-button ng-class="md-mini" ng-disabled="dash.currentPage == 0" ng-click="dash.currentPage=dash.currentPage-1">
          Previous
        </md-button>
          {{dash.currentPage+1}}/{{dash.totalPages((dash.filtered  | filter: query).length)}}
        <md-button ng-class="md-mini" ng-disabled="dash.currentPage >= ((dash.filtered  | filter: query).length / dash.pageSize - 1)" ng-click="dash.currentPage=dash.currentPage+1">
          Next
        </md-button>
      </div>
    </md-card-content>
  </md-card>
</div>
